(window.webpackJsonp=window.webpackJsonp||[]).push([["my-MyHead-vue"],{"05a8":function(t,n,o){o("a29f"),o("8a5a"),o("0607"),o("949e"),o("f251"),o("7565"),o("b514")},"10f8":function(t,n,o){},"73b2":function(t,n,o){},7565:function(t,n,o){},"87f3":function(t,n,o){"use strict";o.d(n,"a",(function(){return l})),o.d(n,"d",(function(){return u})),o.d(n,"b",(function(){return d})),o.d(n,"c",(function(){return f})),o.d(n,"e",(function(){return p}));var e=o("1395"),a={prod:"api/mal-nmp-workstation/upload/uploadAvatar",dev:"api/mal-nmp-workstation/upload/uploadAvatar"},i={prod:"api/mal-nmp-workstation/workstation/queryUserAvatar",dev:"api/mal-nmp-workstation/workstation/queryUserAvatar"},c={prod:"http://afterloan.zjczcb.com.cn:8091/api/mal-nmp-workstation/workstation/user/userInfo",dev:"api/mal-nmp-workstation/workstation/user/userInfo"},s={prod:"http://afterloan.zjczcb.com.cn:8091/api/mal-nmp-workstation/workstation/org/orgList",dev:"api/mal-nmp-workstation/workstation/org/orgList"},r={prod:"http://afterloan.zjczcb.com.cn:8091/api/mal-nmp-workstation/workstation/user/updateOrgInfo",dev:"api/mal-nmp-workstation/workstation/user/updateOrgInfo"},l=function(t){return Object(e.c)(i,t)},u=function(t){return Object(e.c)(c,t)},d=function(t){return Object(e.c)(s,t)},f=function(t){return Object(e.c)(r,t)},p=function(t,n){var o=new FormData,i=(new Date).valueOf()+".png";return o.append("file",n,i),o.append("userId",t),Object(e.d)(a,o)}},"8a5a":function(t,n,o){},"9c82":function(t,n,o){"use strict";o.r(n);var e=o("ddd8"),a=o.n(e),i=o("c31d"),c=o("2638"),s=o.n(c),r=o("8bbf"),l=o.n(r),u=(e=o("d282"),o("ba31")),d=(c=o("6605"),o("ad06")),f=o("e41f"),p=o("543e"),b=(r=Object(e.a)("action-sheet"),e=r[0],r[1]);function h(t,n,o,e){var a=n.title,i=n.cancelText,c=n.closeable;function r(){Object(u.a)(e,"input",!1),Object(u.a)(e,"cancel")}return t(f.a,s()([{class:b(),attrs:{position:"bottom",round:n.round,value:n.value,overlay:n.overlay,duration:n.duration,lazyRender:n.lazyRender,lockScroll:n.lockScroll,getContainer:n.getContainer,closeOnPopstate:n.closeOnPopstate,closeOnClickOverlay:n.closeOnClickOverlay,safeAreaInsetBottom:n.safeAreaInsetBottom}},Object(u.b)(e,!0)]),[function(){if(a)return t("div",{class:b("header")},[a,c&&t(d.a,{attrs:{name:n.closeIcon},class:b("close"),on:{click:r}})])}(),function(){var e=(null==o.description?void 0:o.description())||n.description;if(e)return t("div",{class:b("description")},[e])}(),t("div",{class:b("content")},[n.actions&&n.actions.map((function(o,a){var i=o.disabled,c=o.loading,s=o.callback;return t("button",{attrs:{type:"button"},class:[b("item",{disabled:i,loading:c}),o.className],style:{color:o.color},on:{click:function(t){t.stopPropagation(),i||c||(s&&s(o),n.closeOnClickAction&&Object(u.a)(e,"input",!1),l.a.nextTick((function(){Object(u.a)(e,"select",o,a)})))}}},[c?t(p.a,{class:b("loading-icon")}):[t("span",{class:b("name")},[o.name]),o.subname&&t("div",{class:b("subname")},[o.subname])]])})),null==o.default?void 0:o.default()]),function(){if(i)return[t("div",{class:b("gap")}),t("button",{attrs:{type:"button"},class:b("cancel"),on:{click:r}},[i])]}()])}h.props=Object(i.a)({},c.b,{title:String,actions:Array,duration:[Number,String],cancelText:String,description:String,getContainer:[String,Function],closeOnPopstate:Boolean,closeOnClickAction:Boolean,round:{type:Boolean,default:!0},closeable:{type:Boolean,default:!0},closeIcon:{type:String,default:"cross"},safeAreaInsetBottom:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}});e=e(h);var m=(o("05a8"),o("a3cc")),v=o("87f3"),g=o("d399");o("c2d8"),a={mixins:[a.a],name:"MyMyhead",components:{ActionSheet:e},directives:{},data:function(){return{userId:"",lefttab:"我的头像",show:!1,img:o("b54d"),base:""}},mounted:function(){this.userId=this.$store.state.user.LOGIN_INFO.userId},created:function(){this.HeadPortraitFunc()},methods:{choice:function(){var t=this;Object(m.c)({photoStrategy:1}).then((function(n){console.log(n,2222),t.img=n.data.data,console.log(t.img),t.show=!1,t.headsFunc()}))},open:function(){var t=this;Object(m.c)({photoStrategy:0}).then((function(n){t.img=n.data.data,t.show=!1,t.headsFunc()}))},headsFunc:function(){Object(v.e)(this.userId,this.$base64ToBlob(this.img)).then((function(t){console.log(t,2222)})).catch((function(t){g.a.fail(t.msg)}))},HeadPortraitFunc:function(){var t=this;Object(v.a)({userId:this.userId}).then((function(n){t.img=n,console.log(t.img,"dddd")})).catch((function(t){g.a.fail(t.msg)}))},preservation:function(){var t=this;console.log(this.img,"啥玩意"),Object(m.h)({imageContent:this.img}).then((function(n){console.log(n),t.show=!1,200==n.code?g.a.success(n.data.msg):g.a.fail(n.data.msg)}))}},beforeDestroy:function(){this.$eventBus.$off("refushData")}},o("bdb1"),e=o("2877"),a=Object(e.a)(a,(function(){var t=this,n=t.$createElement;n=t._self._c||n;return n("div",{staticClass:"body"},[n("c-back",{attrs:{lefttab:t.lefttab}}),n("p",{staticClass:"text",on:{click:function(n){t.show=!0}}},[t._v("编辑头像")]),n("div",[n("img",{staticClass:"head",attrs:{src:t.img,alt:""}})]),n("ActionSheet",{attrs:{"cancel-text":"取消"},on:{cancel:t.onCancel},model:{value:t.show,callback:function(n){t.show=n},expression:"show"}},[n("div",{staticClass:"content",on:{click:t.choice}},[t._v(" 从手机相册选择 ")]),n("div",{staticClass:"content",on:{click:t.open}},[t._v(" 拍一张照片 ")]),n("div",{staticClass:"content",on:{click:t.preservation}},[t._v(" 保存图片 ")])])],1)}),[],!1,null,"a0bb60b0",null);n.default=a.exports},b514:function(t,n,o){},b54d:function(t,n,o){t.exports=o.p+"img/mine_bg.58475a4d.png"},bdb1:function(t,n,o){"use strict";o("10f8")},c2d8:function(t,n,o){o("a29f"),o("8a5a"),o("0607"),o("949e"),o("f251"),o("7565"),o("73b2")},ddd8:function(t,n){},e41f:function(t,n,o){"use strict";var e=o("d282"),a=o("a142"),i=o("6605"),c=o("ad06"),s=(o=Object(e.a)("popup"),e=o[0],o[1]);n.a=e({mixins:[Object(i.a)()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){function t(t){return function(o){return n.$emit(t,o)}}var n=this;this.onClick=t("click"),this.onOpened=t("opened"),this.onClosed=t("closed")},methods:{onClickCloseIcon:function(t){this.$emit("click-close-icon",t),this.close()}},render:function(){var t=arguments[0];if(this.shouldRender){var n=this.round,o=this.position,e=this.duration,i="center"===o,r=this.transition||(i?"van-fade":"van-popup-slide-"+o),l={};return Object(a.c)(e)&&(l[i?"animationDuration":"transitionDuration"]=e+"s"),t("transition",{attrs:{appear:this.transitionAppear,name:r},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],style:l,class:s(((n={round:n})[o]=o,n["safe-area-inset-bottom"]=this.safeAreaInsetBottom,n)),on:{click:this.onClick}},[this.slots(),this.closeable&&t(c.a,{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:s("close-icon",this.closeIconPosition),on:{click:this.onClickCloseIcon}})])])}}})},f251:function(t,n,o){}}]);